{"ast":null,"code":"import { initializeApp, getApps } from 'firebase/app';\nimport { initializeAuth } from 'firebase/auth';\nimport { getReactNativePersistence } from 'firebase/auth/react-native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport Constants from 'expo-constants';\nconsole.log('[Firebase] Starting initialization...');\nconst config = Constants.expoConfig?.extra?.firebase;\nif (!config) {\n  throw new Error('[Firebase] Missing firebase config in app.config.js extra');\n}\nconsole.log('[Firebase] Config loaded successfully');\nconst firebaseApp = getApps().length === 0 ? initializeApp(config) : getApps()[0];\nconsole.log('[Firebase] App initialized');\nconst firebaseAuth = initializeAuth(firebaseApp, {\n  persistence: getReactNativePersistence(AsyncStorage)\n});\nconsole.log('[Firebase] Auth initialized with AsyncStorage persistence');\nexport { firebaseApp, firebaseAuth };","map":{"version":3,"names":["initializeApp","getApps","initializeAuth","getReactNativePersistence","AsyncStorage","Constants","console","log","config","expoConfig","extra","firebase","Error","firebaseApp","length","firebaseAuth","persistence"],"sources":["C:/Users/prana/OneDrive/Desktop/civic-reporter-sih/frontend/src/services/firebase.ts"],"sourcesContent":["import { initializeApp, getApps } from 'firebase/app';\r\nimport { initializeAuth } from 'firebase/auth';\r\nimport { getReactNativePersistence } from 'firebase/auth/react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport Constants from 'expo-constants';\r\n\r\nconsole.log('[Firebase] Starting initialization...');\r\n\r\n// Get Firebase config from Expo constants\r\nconst config = Constants.expoConfig?.extra?.firebase;\r\nif (!config) {\r\n  throw new Error('[Firebase] Missing firebase config in app.config.js extra');\r\n}\r\n\r\nconsole.log('[Firebase] Config loaded successfully');\r\n\r\n// Initialize Firebase app if not already initialized\r\nconst firebaseApp = getApps().length === 0 ? initializeApp(config) : getApps()[0];\r\nconsole.log('[Firebase] App initialized');\r\n\r\n// Initialize Firebase Auth with React Native persistence\r\nconst firebaseAuth = initializeAuth(firebaseApp, {\r\n  persistence: getReactNativePersistence(AsyncStorage)\r\n});\r\nconsole.log('[Firebase] Auth initialized with AsyncStorage persistence');\r\n\r\nexport { firebaseApp, firebaseAuth };\r\n\r\n\r\n"],"mappings":"AAAA,SAASA,aAAa,EAAEC,OAAO,QAAQ,cAAc;AACrD,SAASC,cAAc,QAAQ,eAAe;AAC9C,SAASC,yBAAyB,QAAQ,4BAA4B;AACtE,OAAOC,YAAY,MAAM,2CAA2C;AACpE,OAAOC,SAAS,MAAM,gBAAgB;AAEtCC,OAAO,CAACC,GAAG,CAAC,uCAAuC,CAAC;AAGpD,MAAMC,MAAM,GAAGH,SAAS,CAACI,UAAU,EAAEC,KAAK,EAAEC,QAAQ;AACpD,IAAI,CAACH,MAAM,EAAE;EACX,MAAM,IAAII,KAAK,CAAC,2DAA2D,CAAC;AAC9E;AAEAN,OAAO,CAACC,GAAG,CAAC,uCAAuC,CAAC;AAGpD,MAAMM,WAAW,GAAGZ,OAAO,CAAC,CAAC,CAACa,MAAM,KAAK,CAAC,GAAGd,aAAa,CAACQ,MAAM,CAAC,GAAGP,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AACjFK,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;AAGzC,MAAMQ,YAAY,GAAGb,cAAc,CAACW,WAAW,EAAE;EAC/CG,WAAW,EAAEb,yBAAyB,CAACC,YAAY;AACrD,CAAC,CAAC;AACFE,OAAO,CAACC,GAAG,CAAC,2DAA2D,CAAC;AAExE,SAASM,WAAW,EAAEE,YAAY","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}