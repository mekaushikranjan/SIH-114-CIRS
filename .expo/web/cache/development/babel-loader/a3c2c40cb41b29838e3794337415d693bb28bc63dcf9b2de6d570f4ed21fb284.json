{"ast":null,"code":"'use strict';\n\nimport { useEffect, useMemo, useRef } from 'react';\nimport { callMicrotasks } from 'react-native-worklets';\nimport { InterfaceOrientation, IOSReferenceFrame, SensorType } from \"../commonTypes.js\";\nimport { initializeSensor, registerSensor, unregisterSensor } from \"../core.js\";\nconst _worklet_7119231705691_init_data = {\n  code: \"function eulerToQuaternion_useAnimatedSensorJs1(pitch,roll,yaw){const c1=Math.cos(pitch/2);const s1=Math.sin(pitch/2);const c2=Math.cos(roll/2);const s2=Math.sin(roll/2);const c3=Math.cos(yaw/2);const s3=Math.sin(yaw/2);return[s1*c2*c3-c1*s2*s3,c1*s2*c3+s1*c2*s3,c1*c2*s3+s1*s2*c3,c1*c2*c3-s1*s2*s3];}\",\n  location: \"C:\\\\Users\\\\prana\\\\OneDrive\\\\Desktop\\\\civic-reporter-sih\\\\frontend\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\hook\\\\useAnimatedSensor.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"eulerToQuaternion_useAnimatedSensorJs1\\\",\\\"pitch\\\",\\\"roll\\\",\\\"yaw\\\",\\\"c1\\\",\\\"Math\\\",\\\"cos\\\",\\\"s1\\\",\\\"sin\\\",\\\"c2\\\",\\\"s2\\\",\\\"c3\\\",\\\"s3\\\"],\\\"sources\\\":[\\\"C:/Users/prana/OneDrive/Desktop/civic-reporter-sih/frontend/node_modules/react-native-reanimated/lib/module/hook/useAnimatedSensor.js\\\"],\\\"mappings\\\":\\\"AAOA,SAAAA,uCAAAC,KAAA,CAAAC,IAAA,CAAAC,GAAA,QAAAC,EAAA,CAAAC,IAAA,CAAAC,GAAA,CAAAL,KAAA,IACA,MAAAM,EAAA,CAAAF,IAAA,CAAAG,GAAA,CAAAP,KAAA,IACA,MAAAQ,EAAS,CAAAJ,IAAA,CAAAC,GAAA,CAAAJ,IAAiB,CAAC,GAGzB,KAAM,CAAAQ,EAAE,CAAGL,IAAI,CAACG,GAAG,CAACN,IAAA,CAAK,CAAG,CAAC,CAC7B,KAAM,CAAAS,EAAE,CAAGN,IAAI,CAACC,GAAG,CAACH,GAAA,CAAK,EAAG,CAC5B,KAAM,CAAAS,EAAE,CAAGP,IAAI,CAACG,GAAG,CAACL,GAAA,CAAI,CAAG,CAAC,CAC5B,MAAM,CAAEI,EAAA,CAAGE,EAAI,CAACE,EAAI,CAAAP,EAAI,CAAIM,EAAC,CAAAE,EAAA,CAAAR,EAAA,CAAAM,EAAA,CAAAC,EAAA,CAAAJ,EAAA,CAAAE,EAAA,CAAAG,EAAA,CAAAR,EAAA,CAAAK,EAAA,CAAAG,EAAA,CAAAL,EAAA,CAAAG,EAAA,CAAAC,EAAA,CAAAP,EAAA,CAAAK,EAAA,CAAAE,EAAA,CAAAJ,EAAA,CAAAG,EAAA,CAAAE,EAAA,E\\\",\\\"ignoreList\\\":[]}\"\n};\nconst eulerToQuaternion = function eulerToQuaternion_useAnimatedSensorJs1Factory({\n  _worklet_7119231705691_init_data\n}) {\n  const _e = [new global.Error(), 1, -27];\n  const eulerToQuaternion = function (pitch, roll, yaw) {\n    const c1 = Math.cos(pitch / 2);\n    const s1 = Math.sin(pitch / 2);\n    const c2 = Math.cos(roll / 2);\n    const s2 = Math.sin(roll / 2);\n    const c3 = Math.cos(yaw / 2);\n    const s3 = Math.sin(yaw / 2);\n    return [s1 * c2 * c3 - c1 * s2 * s3, c1 * s2 * c3 + s1 * c2 * s3, c1 * c2 * s3 + s1 * s2 * c3, c1 * c2 * c3 - s1 * s2 * s3];\n  };\n  eulerToQuaternion.__closure = {};\n  eulerToQuaternion.__workletHash = 7119231705691;\n  eulerToQuaternion.__pluginVersion = \"0.5.1\";\n  eulerToQuaternion.__initData = _worklet_7119231705691_init_data;\n  eulerToQuaternion.__stackDetails = _e;\n  return eulerToQuaternion;\n}({\n  _worklet_7119231705691_init_data\n});\nconst _worklet_5753175849130_init_data = {\n  code: \"function adjustRotationToInterfaceOrientation_useAnimatedSensorJs2(data){const{InterfaceOrientation,eulerToQuaternion}=this.__closure;const{interfaceOrientation:interfaceOrientation,pitch:pitch,roll:roll,yaw:yaw}=data;if(interfaceOrientation===InterfaceOrientation.ROTATION_90){data.pitch=roll;data.roll=-pitch;data.yaw=yaw-Math.PI/2;}else if(interfaceOrientation===InterfaceOrientation.ROTATION_270){data.pitch=-roll;data.roll=pitch;data.yaw=yaw+Math.PI/2;}else if(interfaceOrientation===InterfaceOrientation.ROTATION_180){data.pitch*=-1;data.roll*=-1;data.yaw*=-1;}const q=eulerToQuaternion(data.pitch,data.roll,data.yaw);data.qx=q[0];data.qy=q[1];data.qz=q[2];data.qw=q[3];return data;}\",\n  location: \"C:\\\\Users\\\\prana\\\\OneDrive\\\\Desktop\\\\civic-reporter-sih\\\\frontend\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\hook\\\\useAnimatedSensor.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"adjustRotationToInterfaceOrientation_useAnimatedSensorJs2\\\",\\\"data\\\",\\\"InterfaceOrientation\\\",\\\"eulerToQuaternion\\\",\\\"__closure\\\",\\\"interfaceOrientation\\\",\\\"pitch\\\",\\\"roll\\\",\\\"yaw\\\",\\\"ROTATION_90\\\",\\\"Math\\\",\\\"PI\\\",\\\"ROTATION_270\\\",\\\"ROTATION_180\\\",\\\"q\\\",\\\"qx\\\",\\\"qy\\\",\\\"qz\\\",\\\"qw\\\"],\\\"sources\\\":[\\\"C:/Users/prana/OneDrive/Desktop/civic-reporter-sih/frontend/node_modules/react-native-reanimated/lib/module/hook/useAnimatedSensor.js\\\"],\\\"mappings\\\":\\\"AAoBA,SAAAA,yDAAoDA,CAAAC,IAAA,QAAAC,oBAAA,CAAAC,iBAAA,OAAAC,SAAA,CAGlD,KAAM,CACJC,oBAAoB,CAApBA,oBAAoB,CACpBC,KAAK,CAALA,KAAK,CACLC,IAAI,CAAJA,IAAI,CACJC,GAAA,CAAAA,GACF,CAAC,CAAGP,IAAI,CACR,GAAII,oBAAoB,GAAKH,oBAAoB,CAACO,WAAW,CAAE,CAC7DR,IAAI,CAACK,KAAK,CAAGC,IAAI,CACjBN,IAAI,CAACM,IAAI,CAAG,CAACD,KAAK,CAClBL,IAAI,CAACO,GAAG,CAAGA,GAAG,CAAGE,IAAI,CAACC,EAAE,CAAG,CAAC,CAC9B,CAAC,IAAM,IAAIN,oBAAoB,GAAKH,oBAAoB,CAACU,YAAY,CAAE,CACrEX,IAAI,CAACK,KAAK,CAAG,CAACC,IAAI,CAClBN,IAAI,CAACM,IAAI,CAAGD,KAAK,CACjBL,IAAI,CAACO,GAAG,CAAGA,GAAG,CAAGE,IAAI,CAACC,EAAE,CAAG,CAAC,CAC9B,CAAC,IAAM,IAAIN,oBAAoB,GAAKH,oBAAoB,CAACW,YAAY,CAAE,CACrEZ,IAAI,CAACK,KAAK,EAAI,CAAC,CAAC,CAChBL,IAAI,CAACM,IAAI,EAAI,CAAC,CAAC,CACfN,IAAI,CAACO,GAAG,EAAI,CAAC,CAAC,CAChB,CACA,KAAM,CAAAM,CAAC,CAAGX,iBAAiB,CAACF,IAAI,CAACK,KAAK,CAAEL,IAAI,CAACM,IAAI,CAAEN,IAAI,CAACO,GAAG,CAAC,CAC5DP,IAAI,CAACc,EAAE,CAAGD,CAAC,CAAC,CAAC,CAAC,CACdb,IAAI,CAACe,EAAE,CAAGF,CAAC,CAAC,CAAC,CAAC,CACdb,IAAI,CAACgB,EAAE,CAAGH,CAAC,CAAC,CAAC,CAAC,CACdb,IAAI,CAACiB,EAAE,CAAGJ,CAAC,CAAC,CAAC,CAAC,CACd,MAAO,CAAAb,IAAI,CACb\\\",\\\"ignoreList\\\":[]}\"\n};\nconst adjustRotationToInterfaceOrientation = function adjustRotationToInterfaceOrientation_useAnimatedSensorJs2Factory({\n  _worklet_5753175849130_init_data,\n  InterfaceOrientation,\n  eulerToQuaternion\n}) {\n  const _e = [new global.Error(), -3, -27];\n  const adjustRotationToInterfaceOrientation = function (data) {\n    const {\n      interfaceOrientation,\n      pitch,\n      roll,\n      yaw\n    } = data;\n    if (interfaceOrientation === InterfaceOrientation.ROTATION_90) {\n      data.pitch = roll;\n      data.roll = -pitch;\n      data.yaw = yaw - Math.PI / 2;\n    } else if (interfaceOrientation === InterfaceOrientation.ROTATION_270) {\n      data.pitch = -roll;\n      data.roll = pitch;\n      data.yaw = yaw + Math.PI / 2;\n    } else if (interfaceOrientation === InterfaceOrientation.ROTATION_180) {\n      data.pitch *= -1;\n      data.roll *= -1;\n      data.yaw *= -1;\n    }\n    const q = eulerToQuaternion(data.pitch, data.roll, data.yaw);\n    data.qx = q[0];\n    data.qy = q[1];\n    data.qz = q[2];\n    data.qw = q[3];\n    return data;\n  };\n  adjustRotationToInterfaceOrientation.__closure = {\n    InterfaceOrientation,\n    eulerToQuaternion\n  };\n  adjustRotationToInterfaceOrientation.__workletHash = 5753175849130;\n  adjustRotationToInterfaceOrientation.__pluginVersion = \"0.5.1\";\n  adjustRotationToInterfaceOrientation.__initData = _worklet_5753175849130_init_data;\n  adjustRotationToInterfaceOrientation.__stackDetails = _e;\n  return adjustRotationToInterfaceOrientation;\n}({\n  _worklet_5753175849130_init_data,\n  InterfaceOrientation,\n  eulerToQuaternion\n});\nconst _worklet_745081947316_init_data = {\n  code: \"function adjustVectorToInterfaceOrientation_useAnimatedSensorJs3(data){const{InterfaceOrientation}=this.__closure;const{interfaceOrientation:interfaceOrientation,x:x,y:y}=data;if(interfaceOrientation===InterfaceOrientation.ROTATION_90){data.x=-y;data.y=x;}else if(interfaceOrientation===InterfaceOrientation.ROTATION_270){data.x=y;data.y=-x;}else if(interfaceOrientation===InterfaceOrientation.ROTATION_180){data.x*=-1;data.y*=-1;}return data;}\",\n  location: \"C:\\\\Users\\\\prana\\\\OneDrive\\\\Desktop\\\\civic-reporter-sih\\\\frontend\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\hook\\\\useAnimatedSensor.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"adjustVectorToInterfaceOrientation_useAnimatedSensorJs3\\\",\\\"data\\\",\\\"InterfaceOrientation\\\",\\\"__closure\\\",\\\"interfaceOrientation\\\",\\\"x\\\",\\\"y\\\",\\\"ROTATION_90\\\",\\\"ROTATION_270\\\",\\\"ROTATION_180\\\"],\\\"sources\\\":[\\\"C:/Users/prana/OneDrive/Desktop/civic-reporter-sih/frontend/node_modules/react-native-reanimated/lib/module/hook/useAnimatedSensor.js\\\"],\\\"mappings\\\":\\\"AAiDA,SAAAA,uDAAkDA,CAAAC,IAAA,QAAAC,oBAAA,OAAAC,SAAA,CAGhD,KAAM,CACJC,oBAAoB,CAApBA,oBAAoB,CACpBC,CAAC,CAADA,CAAC,CACDC,CAAA,CAAAA,CACF,CAAC,CAAGL,IAAI,CACR,GAAIG,oBAAoB,GAAKF,oBAAoB,CAACK,WAAW,CAAE,CAC7DN,IAAI,CAACI,CAAC,CAAG,CAACC,CAAC,CACXL,IAAI,CAACK,CAAC,CAAGD,CAAC,CACZ,CAAC,IAAM,IAAID,oBAAoB,GAAKF,oBAAoB,CAACM,YAAY,CAAE,CACrEP,IAAI,CAACI,CAAC,CAAGC,CAAC,CACVL,IAAI,CAACK,CAAC,CAAG,CAACD,CAAC,CACb,CAAC,IAAM,IAAID,oBAAoB,GAAKF,oBAAoB,CAACO,YAAY,CAAE,CACrER,IAAI,CAACI,CAAC,EAAI,CAAC,CAAC,CACZJ,IAAI,CAACK,CAAC,EAAI,CAAC,CAAC,CACd,CACA,MAAO,CAAAL,IAAI,CACb\\\",\\\"ignoreList\\\":[]}\"\n};\nconst adjustVectorToInterfaceOrientation = function adjustVectorToInterfaceOrientation_useAnimatedSensorJs3Factory({\n  _worklet_745081947316_init_data,\n  InterfaceOrientation\n}) {\n  const _e = [new global.Error(), -2, -27];\n  const adjustVectorToInterfaceOrientation = function (data) {\n    const {\n      interfaceOrientation,\n      x,\n      y\n    } = data;\n    if (interfaceOrientation === InterfaceOrientation.ROTATION_90) {\n      data.x = -y;\n      data.y = x;\n    } else if (interfaceOrientation === InterfaceOrientation.ROTATION_270) {\n      data.x = y;\n      data.y = -x;\n    } else if (interfaceOrientation === InterfaceOrientation.ROTATION_180) {\n      data.x *= -1;\n      data.y *= -1;\n    }\n    return data;\n  };\n  adjustVectorToInterfaceOrientation.__closure = {\n    InterfaceOrientation\n  };\n  adjustVectorToInterfaceOrientation.__workletHash = 745081947316;\n  adjustVectorToInterfaceOrientation.__pluginVersion = \"0.5.1\";\n  adjustVectorToInterfaceOrientation.__initData = _worklet_745081947316_init_data;\n  adjustVectorToInterfaceOrientation.__stackDetails = _e;\n  return adjustVectorToInterfaceOrientation;\n}({\n  _worklet_745081947316_init_data,\n  InterfaceOrientation\n});\nconst _worklet_7475895566302_init_data = {\n  code: \"function useAnimatedSensorJs4(data){const{adjustToInterfaceOrientation,sensorType,SensorType,adjustRotationToInterfaceOrientation,adjustVectorToInterfaceOrientation,sensorData,callMicrotasks}=this.__closure;if(adjustToInterfaceOrientation){if(sensorType===SensorType.ROTATION){data=adjustRotationToInterfaceOrientation(data);}else{data=adjustVectorToInterfaceOrientation(data);}}sensorData.value=data;callMicrotasks();}\",\n  location: \"C:\\\\Users\\\\prana\\\\OneDrive\\\\Desktop\\\\civic-reporter-sih\\\\frontend\\\\node_modules\\\\react-native-reanimated\\\\lib\\\\module\\\\hook\\\\useAnimatedSensor.js\",\n  sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"useAnimatedSensorJs4\\\",\\\"data\\\",\\\"adjustToInterfaceOrientation\\\",\\\"sensorType\\\",\\\"SensorType\\\",\\\"adjustRotationToInterfaceOrientation\\\",\\\"adjustVectorToInterfaceOrientation\\\",\\\"sensorData\\\",\\\"callMicrotasks\\\",\\\"__closure\\\",\\\"ROTATION\\\",\\\"value\\\"],\\\"sources\\\":[\\\"C:/Users/prana/OneDrive/Desktop/civic-reporter-sih/frontend/node_modules/react-native-reanimated/lib/module/hook/useAnimatedSensor.js\\\"],\\\"mappings\\\":\\\"AAqHkD,SAAAA,oBAAQA,CAAAC,IAAA,QAAAC,4BAAA,CAAAC,UAAA,CAAAC,UAAA,CAAAC,oCAAA,CAAAC,kCAAA,CAAAC,UAAA,CAAAC,cAAA,OAAAC,SAAA,CAGpD,GAAIP,4BAA4B,CAAE,CAChC,GAAIC,UAAU,GAAKC,UAAU,CAACM,QAAQ,CAAE,CACtCT,IAAI,CAAGI,oCAAoC,CAACJ,IAAI,CAAC,CACnD,CAAC,IAAM,CACLA,IAAI,CAAGK,kCAAkC,CAACL,IAAI,CAAC,CACjD,CACF,CACAM,UAAU,CAACI,KAAK,CAAGV,IAAI,CACvBO,cAAc,CAAC,CAAC,CAClB\\\",\\\"ignoreList\\\":[]}\"\n};\nexport function useAnimatedSensor(sensorType, userConfig) {\n  const userConfigRef = useRef(userConfig);\n  const hasConfigChanged = userConfigRef.current?.adjustToInterfaceOrientation !== userConfig?.adjustToInterfaceOrientation || userConfigRef.current?.interval !== userConfig?.interval || userConfigRef.current?.iosReferenceFrame !== userConfig?.iosReferenceFrame;\n  if (hasConfigChanged) {\n    userConfigRef.current = Object.assign({}, userConfig);\n  }\n  const config = useMemo(() => Object.assign({\n    interval: 'auto',\n    adjustToInterfaceOrientation: true,\n    iosReferenceFrame: IOSReferenceFrame.Auto\n  }, userConfigRef.current), [userConfigRef.current]);\n  const ref = useRef({\n    sensor: initializeSensor(sensorType, config),\n    unregister: () => {},\n    isAvailable: false,\n    config\n  });\n  useEffect(() => {\n    ref.current = {\n      sensor: initializeSensor(sensorType, config),\n      unregister: () => {},\n      isAvailable: false,\n      config\n    };\n    const sensorData = ref.current.sensor;\n    const adjustToInterfaceOrientation = ref.current.config.adjustToInterfaceOrientation;\n    const id = registerSensor(sensorType, config, function useAnimatedSensorJs4Factory({\n      _worklet_7475895566302_init_data,\n      adjustToInterfaceOrientation,\n      sensorType,\n      SensorType,\n      adjustRotationToInterfaceOrientation,\n      adjustVectorToInterfaceOrientation,\n      sensorData,\n      callMicrotasks\n    }) {\n      const _e = [new global.Error(), -8, -27];\n      const useAnimatedSensorJs4 = function (data) {\n        if (adjustToInterfaceOrientation) {\n          if (sensorType === SensorType.ROTATION) {\n            data = adjustRotationToInterfaceOrientation(data);\n          } else {\n            data = adjustVectorToInterfaceOrientation(data);\n          }\n        }\n        sensorData.value = data;\n        callMicrotasks();\n      };\n      useAnimatedSensorJs4.__closure = {\n        adjustToInterfaceOrientation,\n        sensorType,\n        SensorType,\n        adjustRotationToInterfaceOrientation,\n        adjustVectorToInterfaceOrientation,\n        sensorData,\n        callMicrotasks\n      };\n      useAnimatedSensorJs4.__workletHash = 7475895566302;\n      useAnimatedSensorJs4.__pluginVersion = \"0.5.1\";\n      useAnimatedSensorJs4.__initData = _worklet_7475895566302_init_data;\n      useAnimatedSensorJs4.__stackDetails = _e;\n      return useAnimatedSensorJs4;\n    }({\n      _worklet_7475895566302_init_data,\n      adjustToInterfaceOrientation,\n      sensorType,\n      SensorType,\n      adjustRotationToInterfaceOrientation,\n      adjustVectorToInterfaceOrientation,\n      sensorData,\n      callMicrotasks\n    }));\n    if (id !== -1) {\n      ref.current.unregister = () => unregisterSensor(id);\n      ref.current.isAvailable = true;\n    } else {\n      ref.current.unregister = () => {};\n      ref.current.isAvailable = false;\n    }\n    return () => {\n      ref.current.unregister();\n    };\n  }, [sensorType, config]);\n  return ref.current;\n}","map":{"version":3,"names":["useEffect","useMemo","useRef","callMicrotasks","InterfaceOrientation","IOSReferenceFrame","SensorType","initializeSensor","registerSensor","unregisterSensor","_worklet_7119231705691_init_data","code","location","sourceMap","eulerToQuaternion","eulerToQuaternion_useAnimatedSensorJs1Factory","_e","global","Error","pitch","roll","yaw","c1","Math","cos","s1","sin","c2","s2","c3","s3","__closure","__workletHash","__pluginVersion","__initData","__stackDetails","_worklet_5753175849130_init_data","adjustRotationToInterfaceOrientation","adjustRotationToInterfaceOrientation_useAnimatedSensorJs2Factory","data","interfaceOrientation","ROTATION_90","PI","ROTATION_270","ROTATION_180","q","qx","qy","qz","qw","_worklet_745081947316_init_data","adjustVectorToInterfaceOrientation","adjustVectorToInterfaceOrientation_useAnimatedSensorJs3Factory","x","y","_worklet_7475895566302_init_data","useAnimatedSensor","sensorType","userConfig","userConfigRef","hasConfigChanged","current","adjustToInterfaceOrientation","interval","iosReferenceFrame","Object","assign","config","Auto","ref","sensor","unregister","isAvailable","sensorData","id","useAnimatedSensorJs4Factory","useAnimatedSensorJs4","ROTATION","value"],"sources":["C:\\Users\\prana\\OneDrive\\Desktop\\civic-reporter-sih\\frontend\\node_modules\\react-native-reanimated\\src\\hook\\useAnimatedSensor.ts"],"sourcesContent":["'use strict';\nimport { useEffect, useMemo, useRef } from 'react';\nimport { callMicrotasks } from 'react-native-worklets';\n\nimport type {\n  AnimatedSensor,\n  SensorConfig,\n  Value3D,\n  ValueRotation,\n} from '../commonTypes';\nimport {\n  InterfaceOrientation,\n  IOSReferenceFrame,\n  SensorType,\n} from '../commonTypes';\nimport { initializeSensor, registerSensor, unregisterSensor } from '../core';\n\n// euler angles are in order ZXY, z = yaw, x = pitch, y = roll\n// https://github.com/mrdoob/three.js/blob/dev/src/math/Quaternion.js#L237\nfunction eulerToQuaternion(pitch: number, roll: number, yaw: number) {\n  'worklet';\n  const c1 = Math.cos(pitch / 2);\n  const s1 = Math.sin(pitch / 2);\n  const c2 = Math.cos(roll / 2);\n  const s2 = Math.sin(roll / 2);\n  const c3 = Math.cos(yaw / 2);\n  const s3 = Math.sin(yaw / 2);\n\n  return [\n    s1 * c2 * c3 - c1 * s2 * s3,\n    c1 * s2 * c3 + s1 * c2 * s3,\n    c1 * c2 * s3 + s1 * s2 * c3,\n    c1 * c2 * c3 - s1 * s2 * s3,\n  ];\n}\n\nfunction adjustRotationToInterfaceOrientation(data: ValueRotation) {\n  'worklet';\n  const { interfaceOrientation, pitch, roll, yaw } = data;\n  if (interfaceOrientation === InterfaceOrientation.ROTATION_90) {\n    data.pitch = roll;\n    data.roll = -pitch;\n    data.yaw = yaw - Math.PI / 2;\n  } else if (interfaceOrientation === InterfaceOrientation.ROTATION_270) {\n    data.pitch = -roll;\n    data.roll = pitch;\n    data.yaw = yaw + Math.PI / 2;\n  } else if (interfaceOrientation === InterfaceOrientation.ROTATION_180) {\n    data.pitch *= -1;\n    data.roll *= -1;\n    data.yaw *= -1;\n  }\n\n  const q = eulerToQuaternion(data.pitch, data.roll, data.yaw);\n  data.qx = q[0];\n  data.qy = q[1];\n  data.qz = q[2];\n  data.qw = q[3];\n  return data;\n}\n\nfunction adjustVectorToInterfaceOrientation(data: Value3D) {\n  'worklet';\n  const { interfaceOrientation, x, y } = data;\n  if (interfaceOrientation === InterfaceOrientation.ROTATION_90) {\n    data.x = -y;\n    data.y = x;\n  } else if (interfaceOrientation === InterfaceOrientation.ROTATION_270) {\n    data.x = y;\n    data.y = -x;\n  } else if (interfaceOrientation === InterfaceOrientation.ROTATION_180) {\n    data.x *= -1;\n    data.y *= -1;\n  }\n  return data;\n}\n\n/**\n * Lets you create animations based on data from the device's sensors.\n *\n * @param sensorType - Type of the sensor to use. Configured with\n *   {@link SensorType} enum.\n * @param config - The sensor configuration - {@link SensorConfig}.\n * @returns An object containing the sensor measurements [shared\n *   value](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary#shared-value)\n *   and a function to unregister the sensor\n * @see https://docs.swmansion.com/react-native-reanimated/docs/device/useAnimatedSensor\n */\nexport function useAnimatedSensor(\n  sensorType: SensorType.ROTATION,\n  userConfig?: Partial<SensorConfig>\n): AnimatedSensor<ValueRotation>;\nexport function useAnimatedSensor(\n  sensorType: Exclude<SensorType, SensorType.ROTATION>,\n  userConfig?: Partial<SensorConfig>\n): AnimatedSensor<Value3D>;\nexport function useAnimatedSensor(\n  sensorType: SensorType,\n  userConfig?: Partial<SensorConfig>\n): AnimatedSensor<ValueRotation> | AnimatedSensor<Value3D> {\n  const userConfigRef = useRef(userConfig);\n\n  const hasConfigChanged =\n    userConfigRef.current?.adjustToInterfaceOrientation !==\n      userConfig?.adjustToInterfaceOrientation ||\n    userConfigRef.current?.interval !== userConfig?.interval ||\n    userConfigRef.current?.iosReferenceFrame !== userConfig?.iosReferenceFrame;\n\n  if (hasConfigChanged) {\n    userConfigRef.current = { ...userConfig };\n  }\n\n  const config: SensorConfig = useMemo(\n    () => ({\n      interval: 'auto',\n      adjustToInterfaceOrientation: true,\n      iosReferenceFrame: IOSReferenceFrame.Auto,\n      ...userConfigRef.current,\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [userConfigRef.current]\n  );\n\n  const ref = useRef<AnimatedSensor<Value3D | ValueRotation>>({\n    sensor: initializeSensor(sensorType, config),\n    unregister: () => {\n      // NOOP\n    },\n    isAvailable: false,\n    config,\n  });\n\n  useEffect(() => {\n    ref.current = {\n      sensor: initializeSensor(sensorType, config),\n      unregister: () => {\n        // NOOP\n      },\n      isAvailable: false,\n      config,\n    };\n\n    const sensorData = ref.current.sensor;\n    const adjustToInterfaceOrientation =\n      ref.current.config.adjustToInterfaceOrientation;\n\n    const id = registerSensor(sensorType, config, (data) => {\n      'worklet';\n      if (adjustToInterfaceOrientation) {\n        if (sensorType === SensorType.ROTATION) {\n          data = adjustRotationToInterfaceOrientation(data as ValueRotation);\n        } else {\n          data = adjustVectorToInterfaceOrientation(data as Value3D);\n        }\n      }\n      sensorData.value = data;\n      callMicrotasks();\n    });\n\n    if (id !== -1) {\n      // if sensor is available\n      ref.current.unregister = () => unregisterSensor(id);\n      ref.current.isAvailable = true;\n    } else {\n      // if sensor is unavailable\n      ref.current.unregister = () => {\n        // NOOP\n      };\n      ref.current.isAvailable = false;\n    }\n\n    return () => {\n      ref.current.unregister();\n    };\n  }, [sensorType, config]);\n\n  return ref.current as AnimatedSensor<ValueRotation> | AnimatedSensor<Value3D>;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}