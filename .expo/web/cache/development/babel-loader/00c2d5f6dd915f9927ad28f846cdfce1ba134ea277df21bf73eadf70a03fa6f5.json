{"ast":null,"code":"'use strict';\n\nimport { logger } from \"../logger.js\";\nimport { WorkletsModule } from \"../WorkletsModule/index.js\";\nexport const DynamicFlags = {\n  EXAMPLE_DYNAMIC_FLAG: true,\n  init() {\n    Object.keys(DynamicFlags).forEach(key => {\n      if (key !== 'init' && key !== 'setFlag') {\n        WorkletsModule.setDynamicFeatureFlag(key, DynamicFlags[key]);\n      }\n    });\n  },\n  setFlag(name, value) {\n    if (name in DynamicFlags) {\n      DynamicFlags[name] = value;\n      WorkletsModule.setDynamicFeatureFlag(name, value);\n    } else {\n      logger.warn(`The feature flag: '${name}' no longer exists, you can safely remove invocation of \\`setDynamicFeatureFlag('${name}')\\` from your code.`);\n    }\n  }\n};\nDynamicFlags.init();\nexport function setDynamicFeatureFlag(name, value) {\n  DynamicFlags.setFlag(name, value);\n}\nconst DefaultStaticFeatureFlags = {\n  RUNTIME_TEST_FLAG: false,\n  IOS_DYNAMIC_FRAMERATE_ENABLED: false\n};\nconst staticFeatureFlags = {};\nexport function getStaticFeatureFlag(name) {\n  if (name in staticFeatureFlags) {\n    return staticFeatureFlags[name];\n  }\n  const featureFlagValue = WorkletsModule.getStaticFeatureFlag(name);\n  staticFeatureFlags[name] = featureFlagValue;\n  return featureFlagValue;\n}","map":{"version":3,"names":["logger","WorkletsModule","DynamicFlags","EXAMPLE_DYNAMIC_FLAG","init","Object","keys","forEach","key","setDynamicFeatureFlag","setFlag","name","value","warn","DefaultStaticFeatureFlags","RUNTIME_TEST_FLAG","IOS_DYNAMIC_FRAMERATE_ENABLED","staticFeatureFlags","getStaticFeatureFlag","featureFlagValue"],"sources":["C:\\Users\\prana\\OneDrive\\Desktop\\civic-reporter-sih\\frontend\\node_modules\\react-native-worklets\\src\\featureFlags\\index.ts"],"sourcesContent":["'use strict';\nimport { logger } from '../logger';\nimport { WorkletsModule } from '../WorkletsModule';\nimport type StaticFeatureFlagsJSON from './staticFlags.json';\n\ntype DynamicFlagsType = {\n  EXAMPLE_DYNAMIC_FLAG: boolean;\n  init(): void;\n  setFlag(name: DynamicFlagName, value: boolean): void;\n};\ntype DynamicFlagName = keyof Omit<Omit<DynamicFlagsType, 'setFlag'>, 'init'>;\n\nexport const DynamicFlags: DynamicFlagsType = {\n  EXAMPLE_DYNAMIC_FLAG: true,\n\n  init() {\n    Object.keys(DynamicFlags).forEach((key) => {\n      if (key !== 'init' && key !== 'setFlag') {\n        WorkletsModule.setDynamicFeatureFlag(\n          key,\n          DynamicFlags[key as DynamicFlagName]\n        );\n      }\n    });\n  },\n  setFlag(name, value) {\n    if (name in DynamicFlags) {\n      DynamicFlags[name] = value;\n      WorkletsModule.setDynamicFeatureFlag(name, value);\n    } else {\n      logger.warn(\n        `The feature flag: '${name}' no longer exists, you can safely remove invocation of \\`setDynamicFeatureFlag('${name}')\\` from your code.`\n      );\n    }\n  },\n};\nDynamicFlags.init();\n// Public API function to update a feature flag\nexport function setDynamicFeatureFlag(\n  name: DynamicFlagName,\n  value: boolean\n): void {\n  DynamicFlags.setFlag(name, value);\n}\n\n/**\n * This constant is needed for typechecking and preserving static typechecks in\n * generated .d.ts files. Without it, the static flags resolve to an object\n * without specific keys.\n */\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst DefaultStaticFeatureFlags = {\n  RUNTIME_TEST_FLAG: false,\n  IOS_DYNAMIC_FRAMERATE_ENABLED: false,\n} as const satisfies typeof StaticFeatureFlagsJSON;\n\ntype StaticFeatureFlagsSchema = {\n  -readonly [K in keyof typeof DefaultStaticFeatureFlags]: boolean;\n};\n\nconst staticFeatureFlags: Partial<StaticFeatureFlagsSchema> = {};\n\nexport function getStaticFeatureFlag(\n  name: keyof StaticFeatureFlagsSchema\n): boolean {\n  if (name in staticFeatureFlags) {\n    return staticFeatureFlags[name]!;\n  }\n  const featureFlagValue = WorkletsModule.getStaticFeatureFlag(name);\n  staticFeatureFlags[name] = featureFlagValue;\n  return featureFlagValue;\n}\n"],"mappings":"AAAA,YAAY;;AACZ,SAASA,MAAM,QAAQ,cAAW;AAClC,SAASC,cAAc,QAAQ,4BAAmB;AAUlD,OAAO,MAAMC,YAA8B,GAAG;EAC5CC,oBAAoB,EAAE,IAAI;EAE1BC,IAAIA,CAAA,EAAG;IACLC,MAAM,CAACC,IAAI,CAACJ,YAAY,CAAC,CAACK,OAAO,CAAEC,GAAG,IAAK;MACzC,IAAIA,GAAG,KAAK,MAAM,IAAIA,GAAG,KAAK,SAAS,EAAE;QACvCP,cAAc,CAACQ,qBAAqB,CAClCD,GAAG,EACHN,YAAY,CAACM,GAAG,CAClB,CAAC;MACH;IACF,CAAC,CAAC;EACJ,CAAC;EACDE,OAAOA,CAACC,IAAI,EAAEC,KAAK,EAAE;IACnB,IAAID,IAAI,IAAIT,YAAY,EAAE;MACxBA,YAAY,CAACS,IAAI,CAAC,GAAGC,KAAK;MAC1BX,cAAc,CAACQ,qBAAqB,CAACE,IAAI,EAAEC,KAAK,CAAC;IACnD,CAAC,MAAM;MACLZ,MAAM,CAACa,IAAI,CACT,sBAAsBF,IAAI,oFAAoFA,IAAI,sBACpH,CAAC;IACH;EACF;AACF,CAAC;AACDT,YAAY,CAACE,IAAI,CAAC,CAAC;AAEnB,OAAO,SAASK,qBAAqBA,CACnCE,IAAqB,EACrBC,KAAc,EACR;EACNV,YAAY,CAACQ,OAAO,CAACC,IAAI,EAAEC,KAAK,CAAC;AACnC;AAQA,MAAME,yBAAyB,GAAG;EAChCC,iBAAiB,EAAE,KAAK;EACxBC,6BAA6B,EAAE;AACjC,CAAkD;AAMlD,MAAMC,kBAAqD,GAAG,CAAC,CAAC;AAEhE,OAAO,SAASC,oBAAoBA,CAClCP,IAAoC,EAC3B;EACT,IAAIA,IAAI,IAAIM,kBAAkB,EAAE;IAC9B,OAAOA,kBAAkB,CAACN,IAAI,CAAC;EACjC;EACA,MAAMQ,gBAAgB,GAAGlB,cAAc,CAACiB,oBAAoB,CAACP,IAAI,CAAC;EAClEM,kBAAkB,CAACN,IAAI,CAAC,GAAGQ,gBAAgB;EAC3C,OAAOA,gBAAgB;AACzB","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}