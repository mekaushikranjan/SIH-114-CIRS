{"ast":null,"code":"'use strict';\n\nimport { IS_WINDOW_AVAILABLE, logger, ReanimatedError } from \"../../common/index.js\";\nconst CSS_ANIMATIONS_STYLE_TAG_ID = 'ReanimatedCSSStyleTag';\nconst cssNameToIndex = new Map();\nconst cssNameList = [];\nexport function configureWebCSSAnimations() {\n  if (!IS_WINDOW_AVAILABLE || document.getElementById(CSS_ANIMATIONS_STYLE_TAG_ID) !== null) {\n    return;\n  }\n  const cssStyleTag = document.createElement('style');\n  cssStyleTag.id = CSS_ANIMATIONS_STYLE_TAG_ID;\n  cssStyleTag.onload = () => {\n    if (!cssStyleTag.sheet) {\n      logger.error('Failed to create CSS animations stylesheet.');\n    }\n  };\n  document.head.append(cssStyleTag);\n}\nfunction getStyleSheet() {\n  return document.getElementById(CSS_ANIMATIONS_STYLE_TAG_ID)?.sheet ?? null;\n}\nexport function insertCSSAnimation(animationName, keyframes) {\n  if (!IS_WINDOW_AVAILABLE || cssNameToIndex.has(animationName)) {\n    return;\n  }\n  const sheet = getStyleSheet();\n  if (!sheet) {\n    logger.error('Failed to create CSS animations stylesheet.');\n    return;\n  }\n  const animation = `@keyframes ${animationName} { ${keyframes} }`;\n  sheet.insertRule(animation, 0);\n  cssNameList.unshift(animationName);\n  cssNameToIndex.set(animationName, 0);\n  for (let i = 1; i < cssNameList.length; ++i) {\n    const nextCSSName = cssNameList[i];\n    const nextCSSIndex = cssNameToIndex.get(nextCSSName);\n    if (nextCSSIndex === undefined) {\n      throw new ReanimatedError('Failed to obtain CSS animation index.');\n    }\n    cssNameToIndex.set(cssNameList[i], nextCSSIndex + 1);\n  }\n}\nexport function removeCSSAnimation(animationName) {\n  if (!IS_WINDOW_AVAILABLE) {\n    return;\n  }\n  const sheet = getStyleSheet();\n  const currentCSSIndex = cssNameToIndex.get(animationName);\n  if (currentCSSIndex === undefined) {\n    throw new ReanimatedError('Failed to obtain CSS animation index.');\n  }\n  sheet?.deleteRule(currentCSSIndex);\n  cssNameList.splice(currentCSSIndex, 1);\n  cssNameToIndex.delete(animationName);\n  for (let i = currentCSSIndex; i < cssNameList.length; ++i) {\n    const nextCSSName = cssNameList[i];\n    const nextCSSIndex = cssNameToIndex.get(nextCSSName);\n    if (nextCSSIndex === undefined) {\n      throw new ReanimatedError('Failed to obtain CSS animation index.');\n    }\n    cssNameToIndex.set(cssNameList[i], nextCSSIndex - 1);\n  }\n}","map":{"version":3,"names":["IS_WINDOW_AVAILABLE","logger","ReanimatedError","CSS_ANIMATIONS_STYLE_TAG_ID","cssNameToIndex","Map","cssNameList","configureWebCSSAnimations","document","getElementById","cssStyleTag","createElement","id","onload","sheet","error","head","append","getStyleSheet","insertCSSAnimation","animationName","keyframes","has","animation","insertRule","unshift","set","i","length","nextCSSName","nextCSSIndex","get","undefined","removeCSSAnimation","currentCSSIndex","deleteRule","splice","delete"],"sources":["C:\\Users\\prana\\OneDrive\\Desktop\\civic-reporter-sih\\frontend\\node_modules\\react-native-reanimated\\src\\css\\web\\domUtils.ts"],"sourcesContent":["'use strict';\nimport { IS_WINDOW_AVAILABLE, logger, ReanimatedError } from '../../common';\n\nconst CSS_ANIMATIONS_STYLE_TAG_ID = 'ReanimatedCSSStyleTag';\n\n// Since we cannot remove keyframe from DOM by its name, we have to store its id\nconst cssNameToIndex = new Map<string, number>();\nconst cssNameList: string[] = [];\n\nexport function configureWebCSSAnimations() {\n  if (\n    !IS_WINDOW_AVAILABLE || // Without this check SSR crashes because document is undefined (NextExample on CI)\n    document.getElementById(CSS_ANIMATIONS_STYLE_TAG_ID) !== null\n  ) {\n    return;\n  }\n\n  const cssStyleTag = document.createElement('style');\n  cssStyleTag.id = CSS_ANIMATIONS_STYLE_TAG_ID;\n\n  cssStyleTag.onload = () => {\n    if (!cssStyleTag.sheet) {\n      logger.error('Failed to create CSS animations stylesheet.');\n    }\n  };\n\n  document.head.append(cssStyleTag);\n}\n\nfunction getStyleSheet() {\n  return (\n    (\n      document.getElementById(\n        CSS_ANIMATIONS_STYLE_TAG_ID\n      ) as HTMLStyleElement | null\n    )?.sheet ?? null\n  );\n}\n\nexport function insertCSSAnimation(animationName: string, keyframes: string) {\n  // Without window availability check SSR crashes because document is undefined\n  // (NextExample on CI)\n  if (!IS_WINDOW_AVAILABLE || cssNameToIndex.has(animationName)) {\n    return;\n  }\n\n  const sheet = getStyleSheet();\n\n  if (!sheet) {\n    logger.error('Failed to create CSS animations stylesheet.');\n    return;\n  }\n\n  const animation = `@keyframes ${animationName} { ${keyframes} }`;\n\n  sheet.insertRule(animation, 0);\n  cssNameList.unshift(animationName);\n  cssNameToIndex.set(animationName, 0);\n\n  for (let i = 1; i < cssNameList.length; ++i) {\n    const nextCSSName = cssNameList[i];\n    const nextCSSIndex = cssNameToIndex.get(nextCSSName);\n\n    if (nextCSSIndex === undefined) {\n      throw new ReanimatedError('Failed to obtain CSS animation index.');\n    }\n\n    cssNameToIndex.set(cssNameList[i], nextCSSIndex + 1);\n  }\n}\n\nexport function removeCSSAnimation(animationName: string) {\n  // Without this check SSR crashes because document is undefined (NextExample on CI)\n  if (!IS_WINDOW_AVAILABLE) {\n    return;\n  }\n\n  const sheet = getStyleSheet();\n  const currentCSSIndex = cssNameToIndex.get(animationName);\n\n  if (currentCSSIndex === undefined) {\n    throw new ReanimatedError('Failed to obtain CSS animation index.');\n  }\n\n  sheet?.deleteRule(currentCSSIndex);\n  cssNameList.splice(currentCSSIndex, 1);\n  cssNameToIndex.delete(animationName);\n\n  for (let i = currentCSSIndex; i < cssNameList.length; ++i) {\n    const nextCSSName = cssNameList[i];\n    const nextCSSIndex = cssNameToIndex.get(nextCSSName);\n\n    if (nextCSSIndex === undefined) {\n      throw new ReanimatedError('Failed to obtain CSS animation index.');\n    }\n\n    cssNameToIndex.set(cssNameList[i], nextCSSIndex - 1);\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}