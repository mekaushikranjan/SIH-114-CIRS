{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\prana\\\\OneDrive\\\\Desktop\\\\civic-reporter-sih\\\\frontend\\\\src\\\\screens\\\\worker\\\\EditProfileScreen.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { Ionicons } from '@expo/vector-icons';\nimport * as ImagePicker from 'expo-image-picker';\nimport { useSelector } from 'react-redux';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport WorkerHeader from '../../components/WorkerHeader';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditProfileScreen = ({\n  navigation\n}) => {\n  const {\n    user,\n    token\n  } = useSelector(state => state.auth);\n  const insets = useSafeAreaInsets();\n  const [formData, setFormData] = useState({\n    name: user?.name || '',\n    email: user?.email || '',\n    phone: user?.phone || '',\n    skills: user?.skills || [],\n    profilePhoto: undefined\n  });\n  const [loading, setLoading] = useState(false);\n  const [newSkill, setNewSkill] = useState('');\n  useEffect(() => {\n    fetchCurrentProfile();\n  }, []);\n  const fetchCurrentProfile = async () => {\n    if (!user?.id) return;\n    try {\n      const response = await fetch(`http://192.168.29.36:3003/api/v1/workers/profile/${user.id}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      const data = await response.json();\n      if (data.success && data.data.worker) {\n        const worker = data.data.worker;\n        setFormData({\n          name: worker.name || '',\n          email: worker.email || '',\n          phone: worker.phone || '',\n          skills: worker.skills || [],\n          profilePhoto: worker.profilePhoto\n        });\n      }\n    } catch (error) {\n      console.error('Error fetching profile:', error);\n    }\n  };\n  const handleSave = async () => {\n    if (!formData.name.trim()) {\n      Alert.alert('Error', 'Name is required');\n      return;\n    }\n    if (!formData.email.trim()) {\n      Alert.alert('Error', 'Email is required');\n      return;\n    }\n    setLoading(true);\n    try {\n      const formDataToSend = new FormData();\n      formDataToSend.append('name', formData.name);\n      formDataToSend.append('email', formData.email);\n      formDataToSend.append('phone', formData.phone);\n      formDataToSend.append('skills', JSON.stringify(formData.skills));\n      if (formData.profilePhoto && formData.profilePhoto.startsWith('file://')) {\n        formDataToSend.append('profilePhoto', {\n          uri: formData.profilePhoto,\n          type: 'image/jpeg',\n          name: 'profile.jpg'\n        });\n      }\n      console.log('Updating profile for user:', user?.id);\n      console.log('Token available:', !!token);\n      console.log('Token preview:', token ? `${token.substring(0, 20)}...` : 'No token');\n      console.log('Request URL:', `http://192.168.29.36:3003/api/v1/workers/profile/${user?.id}`);\n      if (!token) {\n        Alert.alert('Error', 'Authentication token missing. Please login again.');\n        return;\n      }\n      const response = await fetch(`http://192.168.29.36:3003/api/v1/workers/profile/${user?.id}`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          fullName: formData.name,\n          phoneNumber: formData.phone,\n          skills: formData.skills,\n          profilePicture: formData.profilePhoto\n        })\n      });\n      console.log('Response status:', response.status);\n      console.log('Response headers:', response.headers);\n      const data = await response.json();\n      console.log('Response data:', data);\n      if (data.success) {\n        Alert.alert('Success', 'Profile updated successfully', [{\n          text: 'OK',\n          onPress: () => navigation.goBack()\n        }]);\n      } else {\n        console.error('Profile update failed:', data.error);\n        Alert.alert('Error', data.error?.message || 'Failed to update profile');\n      }\n    } catch (error) {\n      console.error('Update profile error:', error);\n      Alert.alert('Error', 'Network error occurred');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleImagePicker = async () => {\n    Alert.alert('Select Photo', 'Choose how you want to select a photo', [{\n      text: 'Cancel',\n      style: 'cancel'\n    }, {\n      text: 'Camera',\n      onPress: () => openCamera()\n    }, {\n      text: 'Gallery',\n      onPress: () => openGallery()\n    }]);\n  };\n  const openCamera = async () => {\n    const {\n      status\n    } = await ImagePicker.requestCameraPermissionsAsync();\n    if (status !== 'granted') {\n      Alert.alert('Permission needed', 'Camera permission is required');\n      return;\n    }\n    const result = await ImagePicker.launchCameraAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 0.8\n    });\n    if (!result.canceled && result.assets[0]) {\n      setFormData(prev => Object.assign({}, prev, {\n        profilePhoto: result.assets[0].uri\n      }));\n    }\n  };\n  const openGallery = async () => {\n    const {\n      status\n    } = await ImagePicker.requestMediaLibraryPermissionsAsync();\n    if (status !== 'granted') {\n      Alert.alert('Permission needed', 'Gallery permission is required');\n      return;\n    }\n    const result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 0.8\n    });\n    if (!result.canceled && result.assets[0]) {\n      setFormData(prev => Object.assign({}, prev, {\n        profilePhoto: result.assets[0].uri\n      }));\n    }\n  };\n  const addSkill = () => {\n    if (newSkill.trim() && !formData.skills.includes(newSkill.trim())) {\n      setFormData(prev => Object.assign({}, prev, {\n        skills: [...prev.skills, newSkill.trim()]\n      }));\n      setNewSkill('');\n    }\n  };\n  const removeSkill = skillToRemove => {\n    setFormData(prev => Object.assign({}, prev, {\n      skills: prev.skills.filter(skill => skill !== skillToRemove)\n    }));\n  };\n  return _jsxDEV(View, {\n    style: styles.container,\n    children: [_jsxDEV(WorkerHeader, {\n      title: \"Edit Profile\",\n      showBackButton: true,\n      onBackPress: () => navigation.goBack(),\n      rightComponent: _jsxDEV(TouchableOpacity, {\n        onPress: handleSave,\n        disabled: loading,\n        children: _jsxDEV(Text, {\n          style: [styles.saveButton, loading && styles.saveButtonDisabled],\n          children: loading ? 'Saving...' : 'Save'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this), _jsxDEV(KeyboardAvoidingView, {\n      style: styles.keyboardAvoid,\n      behavior: Platform.OS === 'ios' ? 'padding' : 'height',\n      children: _jsxDEV(ScrollView, {\n        style: styles.scrollView,\n        contentContainerStyle: [styles.scrollContent, {\n          paddingBottom: insets.bottom + 20\n        }],\n        showsVerticalScrollIndicator: false,\n        children: [_jsxDEV(View, {\n          style: styles.photoSection,\n          children: [_jsxDEV(TouchableOpacity, {\n            style: styles.photoContainer,\n            onPress: handleImagePicker,\n            children: [formData.profilePhoto ? _jsxDEV(Image, {\n              source: {\n                uri: formData.profilePhoto\n              },\n              style: styles.profilePhoto\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 17\n            }, this) : _jsxDEV(View, {\n              style: styles.placeholderPhoto,\n              children: _jsxDEV(Ionicons, {\n                name: \"person\",\n                size: 40,\n                color: \"#FF6B35\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 17\n            }, this), _jsxDEV(View, {\n              style: styles.photoEditButton,\n              children: _jsxDEV(Ionicons, {\n                name: \"camera\",\n                size: 16,\n                color: \"white\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this), _jsxDEV(Text, {\n            style: styles.photoHint,\n            children: \"Tap to change profile photo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), _jsxDEV(View, {\n          style: styles.section,\n          children: [_jsxDEV(Text, {\n            style: styles.sectionTitle,\n            children: \"Basic Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this), _jsxDEV(View, {\n            style: styles.inputGroup,\n            children: [_jsxDEV(Text, {\n              style: styles.inputLabel,\n              children: \"Full Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this), _jsxDEV(TextInput, {\n              style: styles.textInput,\n              value: formData.name,\n              onChangeText: text => setFormData(prev => Object.assign({}, prev, {\n                name: text\n              })),\n              placeholder: \"Enter your full name\",\n              placeholderTextColor: \"#999\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this), _jsxDEV(View, {\n            style: styles.inputGroup,\n            children: [_jsxDEV(Text, {\n              style: styles.inputLabel,\n              children: \"Email *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 15\n            }, this), _jsxDEV(TextInput, {\n              style: styles.textInput,\n              value: formData.email,\n              onChangeText: text => setFormData(prev => Object.assign({}, prev, {\n                email: text\n              })),\n              placeholder: \"Enter your email\",\n              placeholderTextColor: \"#999\",\n              keyboardType: \"email-address\",\n              autoCapitalize: \"none\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this), _jsxDEV(View, {\n            style: styles.inputGroup,\n            children: [_jsxDEV(Text, {\n              style: styles.inputLabel,\n              children: \"Phone Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this), _jsxDEV(TextInput, {\n              style: styles.textInput,\n              value: formData.phone,\n              onChangeText: text => setFormData(prev => Object.assign({}, prev, {\n                phone: text\n              })),\n              placeholder: \"Enter your phone number\",\n              placeholderTextColor: \"#999\",\n              keyboardType: \"phone-pad\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), _jsxDEV(View, {\n          style: styles.section,\n          children: [_jsxDEV(Text, {\n            style: styles.sectionTitle,\n            children: \"Skills & Expertise\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this), _jsxDEV(View, {\n            style: styles.skillsContainer,\n            children: formData.skills.map((skill, index) => _jsxDEV(View, {\n              style: styles.skillChip,\n              children: [_jsxDEV(Text, {\n                style: styles.skillText,\n                children: skill\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 19\n              }, this), _jsxDEV(TouchableOpacity, {\n                onPress: () => removeSkill(skill),\n                children: _jsxDEV(Ionicons, {\n                  name: \"close\",\n                  size: 14,\n                  color: \"white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this), _jsxDEV(View, {\n            style: styles.addSkillContainer,\n            children: [_jsxDEV(TextInput, {\n              style: styles.skillInput,\n              value: newSkill,\n              onChangeText: setNewSkill,\n              placeholder: \"Add a skill\",\n              placeholderTextColor: \"#999\",\n              onSubmitEditing: addSkill\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 15\n            }, this), _jsxDEV(TouchableOpacity, {\n              style: styles.addSkillButton,\n              onPress: addSkill,\n              children: _jsxDEV(Ionicons, {\n                name: \"add\",\n                size: 20,\n                color: \"#FF6B35\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 222,\n    columnNumber: 5\n  }, this);\n};\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f5f5f5'\n  },\n  keyboardAvoid: {\n    flex: 1\n  },\n  scrollView: {\n    flex: 1\n  },\n  scrollContent: {\n    padding: 16\n  },\n  saveButton: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: '600'\n  },\n  saveButtonDisabled: {\n    opacity: 0.5\n  },\n  photoSection: {\n    alignItems: 'center',\n    marginBottom: 24\n  },\n  photoContainer: {\n    position: 'relative',\n    marginBottom: 8\n  },\n  profilePhoto: {\n    width: 100,\n    height: 100,\n    borderRadius: 50,\n    borderWidth: 3,\n    borderColor: '#FF6B35'\n  },\n  placeholderPhoto: {\n    width: 100,\n    height: 100,\n    borderRadius: 50,\n    backgroundColor: '#f0f0f0',\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 3,\n    borderColor: '#FF6B35'\n  },\n  photoEditButton: {\n    position: 'absolute',\n    bottom: 0,\n    right: 0,\n    backgroundColor: '#FF6B35',\n    width: 32,\n    height: 32,\n    borderRadius: 16,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: 'white'\n  },\n  photoHint: {\n    fontSize: 12,\n    color: '#666',\n    textAlign: 'center'\n  },\n  section: {\n    backgroundColor: 'white',\n    borderRadius: 12,\n    padding: 16,\n    marginBottom: 16\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#333',\n    marginBottom: 16\n  },\n  inputGroup: {\n    marginBottom: 16\n  },\n  inputLabel: {\n    fontSize: 14,\n    fontWeight: '600',\n    color: '#333',\n    marginBottom: 8\n  },\n  textInput: {\n    borderWidth: 1,\n    borderColor: '#e0e0e0',\n    borderRadius: 8,\n    padding: 12,\n    fontSize: 16,\n    backgroundColor: '#f8f9fa'\n  },\n  skillsContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    marginBottom: 16\n  },\n  skillChip: {\n    backgroundColor: '#FF6B35',\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 16,\n    marginRight: 8,\n    marginBottom: 8,\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  skillText: {\n    color: 'white',\n    fontSize: 12,\n    fontWeight: '600',\n    marginRight: 6\n  },\n  addSkillContainer: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  skillInput: {\n    flex: 1,\n    borderWidth: 1,\n    borderColor: '#e0e0e0',\n    borderRadius: 8,\n    padding: 12,\n    fontSize: 16,\n    backgroundColor: '#f8f9fa',\n    marginRight: 8\n  },\n  addSkillButton: {\n    width: 44,\n    height: 44,\n    borderRadius: 8,\n    backgroundColor: '#f8f9fa',\n    borderWidth: 1,\n    borderColor: '#FF6B35',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});\nexport default EditProfileScreen;","map":{"version":3,"names":["React","useState","useEffect","View","Text","StyleSheet","ScrollView","TouchableOpacity","TextInput","Alert","Image","KeyboardAvoidingView","Platform","Ionicons","ImagePicker","useSelector","useSafeAreaInsets","WorkerHeader","jsxDEV","_jsxDEV","EditProfileScreen","navigation","user","token","state","auth","insets","formData","setFormData","name","email","phone","skills","profilePhoto","undefined","loading","setLoading","newSkill","setNewSkill","fetchCurrentProfile","id","response","fetch","headers","data","json","success","worker","error","console","handleSave","trim","alert","formDataToSend","FormData","append","JSON","stringify","startsWith","uri","type","log","substring","method","body","fullName","phoneNumber","profilePicture","status","text","onPress","goBack","message","handleImagePicker","style","openCamera","openGallery","requestCameraPermissionsAsync","result","launchCameraAsync","mediaTypes","MediaTypeOptions","Images","allowsEditing","aspect","quality","canceled","assets","prev","Object","assign","requestMediaLibraryPermissionsAsync","launchImageLibraryAsync","addSkill","includes","removeSkill","skillToRemove","filter","skill","styles","container","children","title","showBackButton","onBackPress","rightComponent","disabled","saveButton","saveButtonDisabled","fileName","_jsxFileName","lineNumber","columnNumber","keyboardAvoid","behavior","OS","scrollView","contentContainerStyle","scrollContent","paddingBottom","bottom","showsVerticalScrollIndicator","photoSection","photoContainer","source","placeholderPhoto","size","color","photoEditButton","photoHint","section","sectionTitle","inputGroup","inputLabel","textInput","value","onChangeText","placeholder","placeholderTextColor","keyboardType","autoCapitalize","skillsContainer","map","index","skillChip","skillText","addSkillContainer","skillInput","onSubmitEditing","addSkillButton","create","flex","backgroundColor","padding","fontSize","fontWeight","opacity","alignItems","marginBottom","position","width","height","borderRadius","borderWidth","borderColor","justifyContent","right","textAlign","flexDirection","flexWrap","paddingHorizontal","paddingVertical","marginRight"],"sources":["C:/Users/prana/OneDrive/Desktop/civic-reporter-sih/frontend/src/screens/worker/EditProfileScreen.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  View,\n  Text,\n  StyleSheet,\n  ScrollView,\n  TouchableOpacity,\n  TextInput,\n  Alert,\n  Image,\n  KeyboardAvoidingView,\n  Platform,\n} from 'react-native';\nimport { Ionicons } from '@expo/vector-icons';\nimport * as ImagePicker from 'expo-image-picker';\nimport { useSelector } from 'react-redux';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\nimport { RootState } from '../../store/store';\nimport WorkerHeader from '../../components/WorkerHeader';\n\ninterface EditProfileData {\n  name: string;\n  email: string;\n  phone: string;\n  skills: string[];\n  profilePhoto?: string;\n}\n\ninterface EditProfileScreenProps {\n  navigation: any;\n}\n\nconst EditProfileScreen: React.FC<EditProfileScreenProps> = ({ navigation }) => {\n  const { user, token } = useSelector((state: RootState) => state.auth);\n  const insets = useSafeAreaInsets();\n  \n  const [formData, setFormData] = useState<EditProfileData>({\n    name: user?.name || '',\n    email: user?.email || '',\n    phone: user?.phone || '',\n    skills: user?.skills || [],\n    profilePhoto: undefined,\n  });\n  \n  const [loading, setLoading] = useState(false);\n  const [newSkill, setNewSkill] = useState('');\n\n  useEffect(() => {\n    // Fetch current profile data\n    fetchCurrentProfile();\n  }, []);\n\n  const fetchCurrentProfile = async () => {\n    if (!user?.id) return;\n\n    try {\n      const response = await fetch(`http://192.168.29.36:3003/api/v1/workers/profile/${user.id}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json',\n        },\n      });\n\n      const data = await response.json();\n      if (data.success && data.data.worker) {\n        const worker = data.data.worker;\n        setFormData({\n          name: worker.name || '',\n          email: worker.email || '',\n          phone: worker.phone || '',\n          skills: worker.skills || [],\n          profilePhoto: worker.profilePhoto,\n        });\n      }\n    } catch (error) {\n      console.error('Error fetching profile:', error);\n    }\n  };\n\n  const handleSave = async () => {\n    if (!formData.name.trim()) {\n      Alert.alert('Error', 'Name is required');\n      return;\n    }\n\n    if (!formData.email.trim()) {\n      Alert.alert('Error', 'Email is required');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const formDataToSend = new FormData();\n      formDataToSend.append('name', formData.name);\n      formDataToSend.append('email', formData.email);\n      formDataToSend.append('phone', formData.phone);\n      formDataToSend.append('skills', JSON.stringify(formData.skills));\n\n      // Add profile photo if selected\n      if (formData.profilePhoto && formData.profilePhoto.startsWith('file://')) {\n        formDataToSend.append('profilePhoto', {\n          uri: formData.profilePhoto,\n          type: 'image/jpeg',\n          name: 'profile.jpg',\n        } as any);\n      }\n\n      console.log('Updating profile for user:', user?.id);\n      console.log('Token available:', !!token);\n      console.log('Token preview:', token ? `${token.substring(0, 20)}...` : 'No token');\n      console.log('Request URL:', `http://192.168.29.36:3003/api/v1/workers/profile/${user?.id}`);\n      \n      if (!token) {\n        Alert.alert('Error', 'Authentication token missing. Please login again.');\n        return;\n      }\n      \n      const response = await fetch(`http://192.168.29.36:3003/api/v1/workers/profile/${user?.id}`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json', // Changed from multipart/form-data for now\n        },\n        body: JSON.stringify({\n          fullName: formData.name,\n          phoneNumber: formData.phone,\n          skills: formData.skills,\n          profilePicture: formData.profilePhoto\n        }),\n      });\n\n      console.log('Response status:', response.status);\n      console.log('Response headers:', response.headers);\n      \n      const data = await response.json();\n      console.log('Response data:', data);\n      \n      if (data.success) {\n        Alert.alert('Success', 'Profile updated successfully', [\n          { text: 'OK', onPress: () => navigation.goBack() }\n        ]);\n      } else {\n        console.error('Profile update failed:', data.error);\n        Alert.alert('Error', data.error?.message || 'Failed to update profile');\n      }\n    } catch (error) {\n      console.error('Update profile error:', error);\n      Alert.alert('Error', 'Network error occurred');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleImagePicker = async () => {\n    Alert.alert(\n      'Select Photo',\n      'Choose how you want to select a photo',\n      [\n        { text: 'Cancel', style: 'cancel' },\n        { text: 'Camera', onPress: () => openCamera() },\n        { text: 'Gallery', onPress: () => openGallery() },\n      ]\n    );\n  };\n\n  const openCamera = async () => {\n    const { status } = await ImagePicker.requestCameraPermissionsAsync();\n    if (status !== 'granted') {\n      Alert.alert('Permission needed', 'Camera permission is required');\n      return;\n    }\n\n    const result = await ImagePicker.launchCameraAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 0.8,\n    });\n\n    if (!result.canceled && result.assets[0]) {\n      setFormData(prev => ({ ...prev, profilePhoto: result.assets[0].uri }));\n    }\n  };\n\n  const openGallery = async () => {\n    const { status } = await ImagePicker.requestMediaLibraryPermissionsAsync();\n    if (status !== 'granted') {\n      Alert.alert('Permission needed', 'Gallery permission is required');\n      return;\n    }\n\n    const result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [1, 1],\n      quality: 0.8,\n    });\n\n    if (!result.canceled && result.assets[0]) {\n      setFormData(prev => ({ ...prev, profilePhoto: result.assets[0].uri }));\n    }\n  };\n\n  const addSkill = () => {\n    if (newSkill.trim() && !formData.skills.includes(newSkill.trim())) {\n      setFormData(prev => ({\n        ...prev,\n        skills: [...prev.skills, newSkill.trim()]\n      }));\n      setNewSkill('');\n    }\n  };\n\n  const removeSkill = (skillToRemove: string) => {\n    setFormData(prev => ({\n      ...prev,\n      skills: prev.skills.filter(skill => skill !== skillToRemove)\n    }));\n  };\n\n  return (\n    <View style={styles.container}>\n      <WorkerHeader\n        title=\"Edit Profile\"\n        showBackButton={true}\n        onBackPress={() => navigation.goBack()}\n        rightComponent={\n          <TouchableOpacity onPress={handleSave} disabled={loading}>\n            <Text style={[styles.saveButton, loading && styles.saveButtonDisabled]}>\n              {loading ? 'Saving...' : 'Save'}\n            </Text>\n          </TouchableOpacity>\n        }\n      />\n\n      <KeyboardAvoidingView \n        style={styles.keyboardAvoid}\n        behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n      >\n        <ScrollView \n          style={styles.scrollView}\n          contentContainerStyle={[styles.scrollContent, { paddingBottom: insets.bottom + 20 }]}\n          showsVerticalScrollIndicator={false}\n        >\n          {/* Profile Photo Section */}\n          <View style={styles.photoSection}>\n            <TouchableOpacity style={styles.photoContainer} onPress={handleImagePicker}>\n              {formData.profilePhoto ? (\n                <Image source={{ uri: formData.profilePhoto }} style={styles.profilePhoto} />\n              ) : (\n                <View style={styles.placeholderPhoto}>\n                  <Ionicons name=\"person\" size={40} color=\"#FF6B35\" />\n                </View>\n              )}\n              <View style={styles.photoEditButton}>\n                <Ionicons name=\"camera\" size={16} color=\"white\" />\n              </View>\n            </TouchableOpacity>\n            <Text style={styles.photoHint}>Tap to change profile photo</Text>\n          </View>\n\n          {/* Basic Information */}\n          <View style={styles.section}>\n            <Text style={styles.sectionTitle}>Basic Information</Text>\n            \n            <View style={styles.inputGroup}>\n              <Text style={styles.inputLabel}>Full Name *</Text>\n              <TextInput\n                style={styles.textInput}\n                value={formData.name}\n                onChangeText={(text) => setFormData(prev => ({ ...prev, name: text }))}\n                placeholder=\"Enter your full name\"\n                placeholderTextColor=\"#999\"\n              />\n            </View>\n\n            <View style={styles.inputGroup}>\n              <Text style={styles.inputLabel}>Email *</Text>\n              <TextInput\n                style={styles.textInput}\n                value={formData.email}\n                onChangeText={(text) => setFormData(prev => ({ ...prev, email: text }))}\n                placeholder=\"Enter your email\"\n                placeholderTextColor=\"#999\"\n                keyboardType=\"email-address\"\n                autoCapitalize=\"none\"\n              />\n            </View>\n\n            <View style={styles.inputGroup}>\n              <Text style={styles.inputLabel}>Phone Number</Text>\n              <TextInput\n                style={styles.textInput}\n                value={formData.phone}\n                onChangeText={(text) => setFormData(prev => ({ ...prev, phone: text }))}\n                placeholder=\"Enter your phone number\"\n                placeholderTextColor=\"#999\"\n                keyboardType=\"phone-pad\"\n              />\n            </View>\n          </View>\n\n          {/* Skills Section */}\n          <View style={styles.section}>\n            <Text style={styles.sectionTitle}>Skills & Expertise</Text>\n            \n            <View style={styles.skillsContainer}>\n              {formData.skills.map((skill, index) => (\n                <View key={index} style={styles.skillChip}>\n                  <Text style={styles.skillText}>{skill}</Text>\n                  <TouchableOpacity onPress={() => removeSkill(skill)}>\n                    <Ionicons name=\"close\" size={14} color=\"white\" />\n                  </TouchableOpacity>\n                </View>\n              ))}\n            </View>\n\n            <View style={styles.addSkillContainer}>\n              <TextInput\n                style={styles.skillInput}\n                value={newSkill}\n                onChangeText={setNewSkill}\n                placeholder=\"Add a skill\"\n                placeholderTextColor=\"#999\"\n                onSubmitEditing={addSkill}\n              />\n              <TouchableOpacity style={styles.addSkillButton} onPress={addSkill}>\n                <Ionicons name=\"add\" size={20} color=\"#FF6B35\" />\n              </TouchableOpacity>\n            </View>\n          </View>\n        </ScrollView>\n      </KeyboardAvoidingView>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f5f5f5',\n  },\n  keyboardAvoid: {\n    flex: 1,\n  },\n  scrollView: {\n    flex: 1,\n  },\n  scrollContent: {\n    padding: 16,\n  },\n  saveButton: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: '600',\n  },\n  saveButtonDisabled: {\n    opacity: 0.5,\n  },\n  photoSection: {\n    alignItems: 'center',\n    marginBottom: 24,\n  },\n  photoContainer: {\n    position: 'relative',\n    marginBottom: 8,\n  },\n  profilePhoto: {\n    width: 100,\n    height: 100,\n    borderRadius: 50,\n    borderWidth: 3,\n    borderColor: '#FF6B35',\n  },\n  placeholderPhoto: {\n    width: 100,\n    height: 100,\n    borderRadius: 50,\n    backgroundColor: '#f0f0f0',\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 3,\n    borderColor: '#FF6B35',\n  },\n  photoEditButton: {\n    position: 'absolute',\n    bottom: 0,\n    right: 0,\n    backgroundColor: '#FF6B35',\n    width: 32,\n    height: 32,\n    borderRadius: 16,\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderWidth: 2,\n    borderColor: 'white',\n  },\n  photoHint: {\n    fontSize: 12,\n    color: '#666',\n    textAlign: 'center',\n  },\n  section: {\n    backgroundColor: 'white',\n    borderRadius: 12,\n    padding: 16,\n    marginBottom: 16,\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#333',\n    marginBottom: 16,\n  },\n  inputGroup: {\n    marginBottom: 16,\n  },\n  inputLabel: {\n    fontSize: 14,\n    fontWeight: '600',\n    color: '#333',\n    marginBottom: 8,\n  },\n  textInput: {\n    borderWidth: 1,\n    borderColor: '#e0e0e0',\n    borderRadius: 8,\n    padding: 12,\n    fontSize: 16,\n    backgroundColor: '#f8f9fa',\n  },\n  skillsContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    marginBottom: 16,\n  },\n  skillChip: {\n    backgroundColor: '#FF6B35',\n    paddingHorizontal: 12,\n    paddingVertical: 6,\n    borderRadius: 16,\n    marginRight: 8,\n    marginBottom: 8,\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  skillText: {\n    color: 'white',\n    fontSize: 12,\n    fontWeight: '600',\n    marginRight: 6,\n  },\n  addSkillContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  skillInput: {\n    flex: 1,\n    borderWidth: 1,\n    borderColor: '#e0e0e0',\n    borderRadius: 8,\n    padding: 12,\n    fontSize: 16,\n    backgroundColor: '#f8f9fa',\n    marginRight: 8,\n  },\n  addSkillButton: {\n    width: 44,\n    height: 44,\n    borderRadius: 8,\n    backgroundColor: '#f8f9fa',\n    borderWidth: 1,\n    borderColor: '#FF6B35',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n\nexport default EditProfileScreen;\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}